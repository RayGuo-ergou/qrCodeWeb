<template>
  <div class="card">
    <img :src="qr.dataImage" class="card-img-top" :alt="qrCodeId" />
    <div class="card-body">
      <h5 class="card-title">ID:{{ qrCodeId }}</h5>
      <p class="card-text">
        This card generated by {{ qr.username }} with number {{ qr.number }} and type
        <i style="color: #dc3545"> {{ convertedType }}. </i>
      </p>
      <a :download="qrCodeId" :href="qr.dataImage">Download this QR Code only.</a>
    </div>
  </div>
</template>
<script setup lang="ts">
import { defineProps, computed } from 'vue';
import { QRGenerateData } from '@/types/QRCode';
import typesConvert from '@/types/typesConvert';

const props = defineProps({
  qr: {
    type: Object as () => QRGenerateData,
    required: true,
  },
});

// create a computed property
const convertedType = computed(() => typesConvert[props.qr.type as keyof typeof typesConvert]);
const qrCodeId = computed(() => convertedType.value + props.qr.number);
</script>
<style scoped lang="scss"></style>
