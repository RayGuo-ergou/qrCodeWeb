{"version":3,"file":"js/login.c3386a73.js","mappings":"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","sources":["webpack://qrcode-frontend/./src/components/LoginForm.vue?7f40","webpack://qrcode-frontend/./src/components/LoginForm.vue","webpack://qrcode-frontend/./src/views/LoginView.vue?448a","webpack://qrcode-frontend/./src/views/LoginView.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e9cc16f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Login in\", -1))\nconst _hoisted_3 = [\"onSubmit\"]\nconst _hoisted_4 = { class: \"form-group row\" }\nconst _hoisted_5 = {\n  for: \"email\",\n  class: \"col6\"\n}\nconst _hoisted_6 = { class: \"form-group row\" }\nconst _hoisted_7 = {\n  for: \"password\",\n  class: \"col6\"\n}\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Submit\", -1))\n\nimport { ref } from 'vue';\nimport UserService from '@/services/UserService';\nimport { useRouter } from 'vue-router';\nimport { useToast } from 'vue-toastification';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginForm',\n  setup(__props) {\n\nconst router = useRouter();\nconst toast = useToast();\n\nconst email = ref('');\nconst password = ref('');\n\nconst submit = async () => {\n  // send login request to server\n  await UserService.login({\n    email: email.value,\n    password: password.value,\n  })\n    .then((response) => {\n      const { data } = response;\n      // store username and email into local storage\n      localStorage.setItem('username', data.username);\n      localStorage.setItem('email', data.email);\n\n      toast.success('Login success, redirect to home page.', {\n        timeout: 3000,\n        closeOnClick: true,\n        pauseOnFocusLoss: true,\n        pauseOnHover: true,\n        draggable: true,\n        draggablePercent: 0.6,\n        showCloseButtonOnHover: false,\n        hideProgressBar: true,\n        closeButton: 'button',\n        icon: true,\n        rtl: false,\n      });\n      // vue router redirect to home page\n      router.push('/');\n    })\n    .catch((error) => {\n      // if error.data.error.message is undefined, show error.data.error\n      // else show \"Server error, something went wrong\"\n      console.log(error);\n      let message = 'Server error, something went wrong';\n      if (error.response?.data?.error.message != null) {\n        message = error.response?.data?.error.message;\n      }\n      toast.error(message, {\n        timeout: 5000,\n        closeOnClick: true,\n        pauseOnFocusLoss: true,\n        pauseOnHover: true,\n        draggable: true,\n        draggablePercent: 0.6,\n        showCloseButtonOnHover: false,\n        hideProgressBar: true,\n        closeButton: 'button',\n        icon: true,\n        rtl: false,\n      });\n    });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"form\", {\n      onSubmit: _withModifiers(submit, [\"prevent\"])\n    }, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"label\", _hoisted_5, [\n          _createTextVNode(\" Email address \"),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"email\",\n            class: \"form-control\",\n            id: \"email\",\n            placeholder: \"Enter email\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((email).value = $event))\n          }, null, 512), [\n            [_vModelText, email.value]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"label\", _hoisted_7, [\n          _createTextVNode(\" Password \"),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"password\",\n            class: \"form-control\",\n            id: \"password\",\n            placeholder: \"Password\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((password).value = $event))\n          }, null, 512), [\n            [_vModelText, password.value]\n          ])\n        ])\n      ]),\n      _hoisted_8\n    ], 40, _hoisted_3)\n  ]))\n}\n}\n\n})","import script from \"./LoginForm.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=e9cc16f0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/qrCodeWeb/qrCodeWeb/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e9cc16f0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport LoginForm from '@/components/LoginForm.vue'; // @ is an alias to /src\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginView',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(LoginForm))\n}\n}\n\n})","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","for","_hoisted_6","_hoisted_7","_hoisted_8","type","_defineComponent","__name","setup","__props","router","useRouter","toast","useToast","email","ref","password","submit","async","UserService","value","then","response","data","localStorage","setItem","username","success","timeout","closeOnClick","pauseOnFocusLoss","pauseOnHover","draggable","draggablePercent","showCloseButtonOnHover","hideProgressBar","closeButton","icon","rtl","push","catch","error","console","log","message","_ctx","_cache","_openBlock","_createElementBlock","onSubmit","_withModifiers","_createTextVNode","_withDirectives","id","placeholder","$event","_vModelText","__exports__","_createBlock","LoginForm"],"sourceRoot":""}